webpackJsonp([1],{"1/oy":function(t,n){},"9M+g":function(t,n){},Id91:function(t,n){},Jmt5:function(t,n){},LuaM:function(t,n){},NHnr:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=a("7+uW"),e=a("e6fC"),o=a("//Fk"),s=a.n(o),r=a("pFYg"),u=a.n(r),c=a("mtWM"),l=a.n(c),f={name:"regions",data:function(){return{msg:"Регіони",loader:!0,info:{regionId:"",transactions:[],january:[],february:[],march:[],april:[],may:[],june:[],july:[],august:[],september:[],october:[],november:[],december:[]},regions:null}},created:function(){this.getRegions()},methods:{getTransactions:function(){var t=this;this.loader=!0,l()("https://thingproxy.freeboard.io/fetch/http://api.spending.gov.ua/api/v2/api/transactions/top100?region="+this.info.regionId,{method:"GET",mode:"no-cors"}).then(function(n){t.loader=!1;for(var a=[],i=0;i<100;i++){var e=[];e.push(n.data[i].trans_date);var o=parseInt(n.data[i].amount);console.log(void 0===o?"undefined":u()(o)),e.push(o),a.push(e)}a=a.sort(t.sortArrays),s.a.all(t.sumSameDays(a),t.changeDate(a)).then(function(n){t.info.transactions=n})}).catch(function(t){console.log("err",t)})},getRegions:function(){var t=this;this.loader=!0,l()("https://thingproxy.freeboard.io/fetch/http://api.spending.gov.ua/api/v2/regions",{method:"GET",mode:"no-cors"}).then(function(n){t.loader=!1,n.data.shift(),t.regions=n.data}).catch(function(t){console.log("err",t)})},sortArrays:function(t,n){return t[0]<n[0]?-1:t[0]>n[0]?1:0},changeDate:function(t){t=t.sort(this.sortArrays);for(var n=0;n<t.length;n++){var a=new Date(t[n][0]),i=a.getDate(),e=a.getMonth()+1;1===e?(e="Січ",this.info.january.push(t[n])):2===e?(e="Лют",this.info.february.push(t[n])):3===e?(e="Берез",this.info.march.push(t[n])):4===e?(e="Квіт",this.info.april.push(t[n])):5===e?(e="Трав",this.info.may.push(t[n])):6===e?(e="Черв",this.info.june.push(t[n])):7===e?(e="Лип",this.info.july.push(t[n])):8===e?(e="Серп",this.info.august.push(t[n])):9===e?(e="Верес",this.info.september.push(t[n])):10===e?(e="Жовт",this.info.october.push(t[n])):11===e?(e="Лист",this.info.november.push(t[n])):12===e&&(e="Груд",this.info.december.push(t[n])),t[n][0]=i+" "+e}},sumSameDays:function(t){for(var n=[],a=t[1][1],i=0;i<t.length;i++)t[i+1]?t[i][0]===t[i+1][0]?a+=t[i+1][1]:(t[i][1]=a.toFixed(),n.push(t[i]),a=t[i+1][1]):(t[i][1]=a.toFixed(),n.push(t[i]));return n},emit:function(){this.$emit("event_child",this.info)}}},h={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("b-container",[a("h1",[t._v(t._s(t.msg))]),t._v(" "),a("div",{staticClass:"forDown",attrs:{md:"6",sm:"12"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.info.regionId,expression:"info.regionId"}],staticClass:"select",on:{click:t.emit,change:[function(n){var a=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.info,"regionId",n.target.multiple?a:a[0])},function(n){t.getTransactions()}]}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Список регіонів")]),t._v(" "),t._l(t.regions,function(n){return a("option",{key:n.regionCode,domProps:{value:n.regionCode}},[t._v(t._s(n.regionName))])})],2),t._v(" "),a("span",{staticClass:"down"},[t._v("▼")]),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:t.loader,expression:"loader"}],staticClass:"loader",attrs:{src:"/static/30.gif",alt:"loader"}})])])},staticRenderFns:[]};var d=a("VU/8")(f,h,!1,function(t){a("aGQg")},"data-v-d0e051c6",null).exports,v=a("YeRc");i.a.use(v.a);var m={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("b-container",[a("h1",[t._v(t._s(t.msg))]),t._v(" "),a("column-chart",{attrs:{data:t.but,label:"sum",suffix:"грн",messages:{empty:"No data"},thousands:",",library:{backgroundColor:"#eee"},colors:["#3ca745","#3ca744"]}}),t._v(" "),a("div",{attrs:{md:"6",sm:"12"}},[a("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(n){t.january()}}},[t._v("Січень")]),t._v(" "),a("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(n){t.february()}}},[t._v("Лютий")]),t._v(" "),a("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(n){t.march()}}},[t._v("Березень")]),t._v(" "),a("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(n){t.april()}}},[t._v("Квітень")]),t._v(" "),a("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(n){t.may()}}},[t._v("Травень")]),t._v(" "),a("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(n){t.june()}}},[t._v("Червень")]),t._v(" "),a("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(n){t.july()}}},[t._v("Липень")]),t._v(" "),a("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(n){t.august()}}},[t._v("Серпень")]),t._v(" "),a("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(n){t.september()}}},[t._v("Вересень")]),t._v(" "),a("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(n){t.october()}}},[t._v("Жовтень")]),t._v(" "),a("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(n){t.november()}}},[t._v("Листопад")]),t._v(" "),a("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(n){t.december()}}},[t._v("Грудень")])],1)],1)},staticRenderFns:[]};var p=a("VU/8")({name:"transactions",data:function(){return{msg:"Транзакції",but:null}},props:{infoData:null},watch:{"infoData.transactions":function(){this.loader=!1,this.but=this.infoData.transactions}},methods:{february:function(){this.but=this.infoData.february},january:function(){this.but=this.infoData.january},april:function(){this.but=this.infoData.april},march:function(){this.but=this.infoData.march},may:function(){this.but=this.infoData.may},june:function(){this.but=this.infoData.june},july:function(){this.but=this.infoData.july},august:function(){this.but=this.infoData.august},september:function(){this.but=this.infoData.september},october:function(){this.but=this.infoData.october},november:function(){this.but=this.infoData.november},december:function(){this.but=this.infoData.december},separation:function(t){}}},m,!1,function(t){a("LuaM")},"data-v-61ab29d1",null).exports,b={name:"mapdraw",data:function(){return{hideMap:!1,sum:"0"}},props:{infoData:null},created:function(){this.initMap()},methods:{amount:function(t){for(var n=0,a=0;a<t.length;a++)n+=parseInt(t[a][1]);this.sum=toString(n),this.hideMap=!0},initMap:function(){window.google.load("visualization","1",{packages:["geochart"]}),window.google.setOnLoadCallback(function(){var t=window.google.visualization.arrayToDataTable([["Region","Sum"],["UA-32","199581477"],["UA-43","199581477"],["UA-30","199581477"],["UA-18","199581477"],["UA-07","199581477"],["UA-46","199581477"],["UA-56","199581477"],["UA-21","199581477"],["UA-26","199581477"],["UA-77","199581477"],["UA-61","199581477"],["UA-68","199581477"],["UA-05","199581477"],["UA-71","199581477"],["UA-35","199581477"],["UA-51","199581477"],["UA-48","199581477"],["UA-74","199581477"],["UA-59","199581477"],["UA-53","199581477"],["UA-63","199581477"],["UA-12","199581477"],["UA-09","199581477"],["UA-14","199581477"],["UA-23","199581477"],["UA-65","199581477"]]);new window.google.visualization.GeoChart(document.getElementById("visualization")).draw(t,{region:"UA",displayMode:"regions",resolution:"provinces",width:640,height:480})})}}},g={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("b-container",[a("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(n){t.amount(t.infoData.transactions)}}},[t._v("Мапа")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.hideMap,expression:"hideMap"}],staticStyle:{margin:"1em"},attrs:{id:"visualization"}})],1)},staticRenderFns:[]};var _=a("VU/8")(b,g,!1,function(t){a("gk4b")},"data-v-4075597e",null).exports,y=(a("Jmt5"),a("9M+g"),{name:"App",data:function(){return{data:null}},components:{Regions:d,Transactions:p,Mapdraw:_},methods:{eventChild:function(t){this.data=t,console.log("data",this.data)}}}),A={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),n("regions",{on:{event_child:this.eventChild}}),this._v(" "),n("transactions",{attrs:{infoData:this.data}}),this._v(" "),n("mapdraw",{attrs:{infoData:this.data}})],1)},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("a",{staticClass:"print",attrs:{href:"javascript:window.print()",label:"print"}},[n("span",[this._v("🖶")])])}]};var U=a("VU/8")(y,A,!1,function(t){a("eOfe")},null,null).exports;i.a.config.productionTip=!1,i.a.use(e.a),new i.a({el:"#app",components:{App:U},template:"<App/>"})},aGQg:function(t,n){},eOfe:function(t,n){},gk4b:function(t,n){},zj2Q:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.a317f2f79118dde26299.js.map